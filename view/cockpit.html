<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item active"><i class="fa fa-wrench"></i> Funcionalidades do Ramal</li>
    </ol>
</nav>
<div class="main">
    <div class="container">
        {{peer}}
        <form name="peerForm">
            <div class="form-group row">
                <label for="followMe" class="col-sm-2 col-form-label">Siga-me:</label>
                <div class="col-sm-10 border" style="padding-bottom: 10px; padding-top: 10px;">
                    <div class="row">
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeAll.enabled" ng-disabled="peer.followMeBusy.enabled || peer.followMeUnavail.enabled"/>
                                <div class="control_indicator"></div>
                                Sempre
                            </label>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeAll.srcAny.enabled" ng-disabled="!peer.followMeAll.enabled || peer.followMeAll.srcInt.enabled || peer.followMeAll.srcExt.enabled"/>
                                <div class="control_indicator"></div>
                                Qualquer origem
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeAll.srcAny.dest" name="followMeAllAnyDest" id="followMeAllAnyDest" ng-required="peer.followMeAll.srcAny.enabled" placeholder="Destino" ng-show="peer.followMeAll.enabled && peer.followMeAll.srcAny.enabled && (!peer.followMeAll.srcInt.enabled || !peer.followMeAll.srcExt.enabled)"/>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeAll.srcInt.enabled" ng-disabled="!peer.followMeAll.enabled || peer.followMeAll.srcAny.enabled"/>
                                <div class="control_indicator"></div>
                                Internas
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeAll.srcInt.dest" name="followMeAllIntDest" id="followMeAllIntDest" ng-required="peer.followMeAll.srcInt.enabled" placeholder="Destino" ng-show="peer.followMeAll.enabled && peer.followMeAll.srcInt.enabled"/>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeAll.srcExt.enabled" ng-disabled="!peer.followMeAll.enabled || peer.followMeAll.srcAny.enabled"/>
                                <div class="control_indicator"></div>
                                Externas
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeAll.srcExt.dest" name="followMeAllExtDest" id="followMeAllExtDest" ng-required="peer.followMeAll.srcExt.enabled" placeholder="Destino" ng-show="peer.followMeAll.enabled && peer.followMeAll.srcExt.enabled"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeBusy.enabled" ng-disabled="peer.followMeAll.enabled"/>
                                <div class="control_indicator"></div>
                                Quando ocupado
                            </label>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeBusy.srcAny.enabled" ng-disabled="!peer.followMeBusy.enabled || peer.followMeBusy.srcInt.enabled || peer.followMeBusy.srcExt.enabled"/>
                                <div class="control_indicator"></div>
                                Qualquer origem
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeBusy.srcAny.dest" name="followMeBusyAnyDest" id="followMeBusyAnyDest" ng-required="peer.followMeBusy.srcAny.enabled" placeholder="Destino" ng-show="peer.followMeBusy.enabled && peer.followMeBusy.srcAny.enabled && (!peer.followMeBusy.srcInt.enabled || !peer.followMeBusy.srcExt.enabled)"/>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeBusy.srcInt.enabled" ng-disabled="!peer.followMeBusy.enabled || peer.followMeBusy.srcAny.enabled"/>
                                <div class="control_indicator"></div>
                                Internas
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeBusy.srcInt.dest" name="followMeBusyIntDest" id="followMeBusyIntDest" ng-required="peer.followMeBusy.srcInt.enabled" placeholder="Destino" ng-show="peer.followMeBusy.enabled && peer.followMeBusy.srcInt.enabled"/>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeBusy.srcExt.enabled" ng-disabled="!peer.followMeBusy.enabled || peer.followMeBusy.srcAny.enabled"/>
                                <div class="control_indicator"></div>
                                Externas
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeBusy.srcExt.dest" name="followMeBusyExtDest" id="followMeBusyExtDest" ng-required="peer.followMeBusy.srcExt.enabled" placeholder="Destino" ng-show="peer.followMeBusy.enabled && peer.followMeBusy.srcExt.enabled"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeUnavail.enabled" ng-disabled="peer.followMeAll.enabled"/>
                                <div class="control_indicator"></div>
                                Quando indisponível
                            </label>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeUnavail.srcAny.enabled" ng-disabled="!peer.followMeUnavail.enabled || peer.followMeUnavail.srcInt.enabled || peer.followMeUnavail.srcExt.enabled"/>
                                <div class="control_indicator"></div>
                                Qualquer origem
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeUnavail.srcAny.dest" name="followMeUnavailAnyDest" id="followMeUnavailAnyDest" ng-required="peer.followMeUnavail.srcAny.enabled" placeholder="Destino" ng-show="peer.followMeUnavail.enabled && peer.followMeUnavail.srcAny.enabled && (!peer.followMeUnavail.srcInt.enabled || !peer.followMeUnavail.srcExt.enabled)"/>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeUnavail.srcInt.enabled" ng-disabled="!peer.followMeUnavail.enabled || peer.followMeUnavail.srcAny.enabled"/>
                                <div class="control_indicator"></div>
                                Internas
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeUnavail.srcInt.dest" name="followMeUnavailIntDest" id="followMeUnavailIntDest" ng-required="peer.followMeUnavail.srcInt.enabled" placeholder="Destino" ng-show="peer.followMeUnavail.enabled && peer.followMeUnavail.srcInt.enabled"/>
                        </div>
                        <div class="col-sm-3">
                            <label class="control control-checkbox">
                                <input type="checkbox" ng-model="peer.followMeUnavail.srcExt.enabled" ng-disabled="!peer.followMeUnavail.enabled || peer.followMeUnavail.srcAny.enabled"/>
                                <div class="control_indicator"></div>
                                Externas
                            </label>
                            <input type="text" class="form-control" ng-model="peer.followMeUnavail.srcExt.dest" name="followMeUnavailExtDest" id="followMeUnavailExtDest" ng-required="peer.followMeUnavail.srcExt.enabled" placeholder="Destino" ng-show="peer.followMeUnavail.enabled && peer.followMeUnavail.srcExt.enabled"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <label for="lock" class="col-sm-2 col-form-label">Cadeado:</label>
                <div class="col-sm-4 border" style="padding-bottom: 10px; padding-top: 10px;">
                    <label class="control control-radio">
                        Bloqueado
                        <input type="radio" id="locked" ng-model="peer.lock" value=true>
                        <div class="control_indicator"></div>
                    </label>
                    <label class="control control-radio">
                        Desbloqueado
                        <input type="radio" id="unlocked" ng-model="peer.lock" value=false ng-checked="peer.lock === false || !peer.lock">
                        <div class="control_indicator"></div>
                    </label>
                </div>
            </div>
            <div class="form-group row">
                <label for="lock" class="col-sm-2 col-form-label">Correio de voz:</label>
                <div class="col-sm-10 border" style="padding-bottom: 10px; padding-top: 10px;">
                    <table class="table table-striped table-bordered table-hover" ng-show="peer.voicemail.length > 0">
                        <thead>
                            <th>Data</th>
                            <th>Origem</th>
                            <th>Mensagem</th>
                            <th></th>
                        </thead>
                        <tr ng-repeat="voicemail in peer.voicemail">
                            <td style="text-align: center">{{voicemail.date}}</td>
                            <td style="text-align: center">{{voicemail.src}}</td>
                            <td style="text-align: center">
                                <audio src="{{baseUrl}}/voicemail/{{peer.id}}/{{voicemail.filename}}" preload="none" controls class="link"></audio>
                            </td>
                            <td style="text-align: center">
                                <button type="button" class="btn btn-danger btn-sm" ng-click="removeVoicemail(voicemail)"><i class="fa fa-trash"></i></button>
                            </td>
                        </tr>
                    </table>
                    <div class="alert alert-warning fade show" role="alert" ng-if="peer.voicemail.length === 0 || !peer.voicemail">
                        Não existem mensagens em seu correio de voz.
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>